\begin{frame}[fragile,allowframebreaks]{Análisis sintáctico por colores}~\newline\color{OliveDrab3}\verb$#include "Funciones.h"$\newline\newline\color{Tomato2}\verb$RegTS$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$1000$\color{SeaGreen3}\verb$]$ \color{SeaGreen3}\verb$=$ \color{SeaGreen3}\verb${$ \color{SeaGreen3}\verb${$\color{Tan2}\verb$"$"$\color{SeaGreen3}\verb$,$ \color{HotPink1}\verb$99$\color{SeaGreen3}\verb$}$ \color{SeaGreen3}\verb$}$\color{SeaGreen3}\verb$;$\newline\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$numeroVariableTemporal$\color{SeaGreen3}\verb$=$\color{HotPink1}\verb$1$\color{SeaGreen3}\verb$;$\newline\newline\color{Azure4}\begin{verbatim}/*----------------------------------------------------Validacion-----------------------------------*/\end{verbatim}\leavevmode\newline\newline\newline\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$validation$ \color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$\color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$,$\color{Turquoise3}\verb$char$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$=$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$while$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{DarkOrchid3}\verb$!=$\color{Tan2}\verb$'.'$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$+$\color{HotPink1}\verb$1$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$+$\color{HotPink1}\verb$1$\color{SeaGreen3}\verb$]$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{DarkOrchid3}\verb$&&$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$+$\color{HotPink1}\verb$2$\color{SeaGreen3}\verb$]$ \color{DarkOrchid3}\verb$==$\color{Tan2}\verb$'\0'$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Turquoise3}\verb$return$ \color{HotPink1}\verb$1$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\color{Turquoise3}\verb$else$\color{SeaGreen3}\verb${$\newline\tab\tab\color{Turquoise3}\verb$return$ \color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$initialicefiles$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"section	.text \n   global _start     ;must be declared for linker (ld)\n_start:	            ;tells linker entry point\n"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$sectionData$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"section .data\n"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$joinfiles$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Turquoise3}\verb$char$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$while$ \color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$fgetc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{DarkOrchid3}\verb$!=$ \color{Tomato2}\verb$EOF$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$fputc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$sectionData$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\newline\color{Azure4}\begin{verbatim}/* ------------------------------------------PARSER---------------------------------------------------------------*/\end{verbatim}\leavevmode\newline\newline\color{Azure4}\begin{verbatim}// Llama al scanner para conseguir el siguiente token\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//printf("pre MATCH con: %d\n", tok);\end{verbatim}\leavevmode\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$temp$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//printf("pre MATCH temp: %d\n", temp);\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$temp$\color{DarkOrchid3}\verb$!=$\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("token_buffer tiene %s \n",token_buffer);\end{verbatim}\leavevmode\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("Error de sintaxis MATCH con: %d\n", tok);\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$syntax_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Tomato2}\verb$flagToken$\color{SeaGreen3}\verb$=$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}// <program> SCANEOF\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$system_goal$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$initialicefiles$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$program$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//printf("entrando a revisar match SCANEOF\n");\end{verbatim}\leavevmode\newline\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$SCANEOF$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//fprintf(outputArchive, "\nint 80h \n mov eax,1 \nmov ebx,0\nint 80h\n");\end{verbatim}\leavevmode\newline\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}// begin <statement list> end\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$program$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$BEGIN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$statement_list$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$END$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$finish$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}// <statement> {<statement>}\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$statement_list$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$statement$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$while$\color{SeaGreen3}\verb$($\color{HotPink1}\verb$1$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Turquoise3}\verb$switch$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$:$ \color{Turquoise3}\verb$case$ \color{Tomato2}\verb$READ$\color{SeaGreen3}\verb$:$ \color{Turquoise3}\verb$case$ \color{Tomato2}\verb$WRITE$\color{SeaGreen3}\verb$:$\newline\tab\tab\tab\color{Tomato2}\verb$statement$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$default$\color{SeaGreen3}\verb$:$\newline\tab\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$statement$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$left$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$right$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$switch$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}/* <statement> ::= ID := <expresion>; */\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Tomato2}\verb$id$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$left$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$ASSIGNOP$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$expression$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$right$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$assign$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$left$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$right$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$SEMICOLON$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}/* <statement> ::= READ (<id list>) ; */\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$READ$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$READ$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$LPAREN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$id_list$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$RPAREN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$SEMICOLON$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}/* <statement> ::= WRITE (<id list>) ; */\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$WRITE$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$WRITE$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$LPAREN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$expr_list$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$RPAREN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$SEMICOLON$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$default$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("syntax error en statement \n");\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$syntax_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}//A parsing procedure including semantic processing\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$expression$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$result$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$left_operand$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$right_operand$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$char$ \color{Tomato2}\verb$op$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$MAXIDLEN$\color{SeaGreen3}\verb$]$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$primary$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$left_operand$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$for$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$tok$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$PLUSOP$ \color{DarkOrchid3}\verb$||$ \color{Tomato2}\verb$tok$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$MINUSOP$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$add_op$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$op$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$primary$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$right_operand$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$left_operand$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$gen_infix$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$left_operand$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$op$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$right_operand$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{DarkOrchid3}\verb$*$\color{Tomato2}\verb$result$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$left_operand$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}// Int, variable o or combination of both that must be specified (expression)\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$primary$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$result$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Turquoise3}\verb$switch$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}/* <primary> ::= ID */\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Tomato2}\verb$id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$result$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}/* <primary> ::= INTLITERAL */\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$INTLITERAL$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$INTLITERAL$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{DarkOrchid3}\verb$*$\color{Tomato2}\verb$result$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$process_literal$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}/* <primary> ::= { <expression> }*/\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$case$ \color{Tomato2}\verb$LPAREN$\color{SeaGreen3}\verb$:$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$LPAREN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$expression$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$result$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$RPAREN$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$break$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* <addop> ::= PLUSOP | MINUSOP */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$add_op$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$result$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//printf("el operador asignado es: %d\n", tok);\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$PLUSOP$ \color{DarkOrchid3}\verb$||$ \color{Tomato2}\verb$tok$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$MINUSOP$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("el operador asignado es: %d\n", tok);\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("el operador asignado es: %d\n", tok);\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$result$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$process_op$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("el operador asignado es: %d\n", tok);\end{verbatim}\leavevmode\newline\tab\tab\color{Azure4}\begin{verbatim}//printf(result);\end{verbatim}\leavevmode\newline\tab\color{SeaGreen3}\verb$}$ \color{Turquoise3}\verb$else$\newline\tab\tab\color{Tomato2}\verb$syntax_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$syntax_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$printf$\color{SeaGreen3}\verb$($\color{Tan2}\verb$"ERROR SINTACTICO"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$lexical_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$printf$\color{SeaGreen3}\verb$($\color{Tan2}\verb$"ERROR LEXICO"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\newline\color{Azure4}\begin{verbatim}/* <id list> : ID { , ID} */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$id_list$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$id$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$read_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$for$ \color{SeaGreen3}\verb$($ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$tok$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$COMMA$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$COMMA$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$id$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$read_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* <expr list> ::= <expression> { , <expression> } */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$expr_list$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$expression$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$write_expr$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$for$ \color{SeaGreen3}\verb$($ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$tok$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$COMMA$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$COMMA$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$expression$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$write_expr$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Tomato2}\verb$token$ \color{Tomato2}\verb$next_token$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//printf("%i\n",flagToken);\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$flagToken$\color{DarkOrchid3}\verb$!=$\color{HotPink1}\verb$1$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$current_token$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$scanner$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("next token es: %d\n", current_token);\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$flagToken$ \color{SeaGreen3}\verb$=$ \color{HotPink1}\verb$1$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$if$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$current_token$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$LEXICALERROR$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{Tomato2}\verb$lexical_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$current_token$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{Tomato2}\verb$lookup$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$,$ \color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$current_token$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{SeaGreen3}\verb$}$\newline\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Azure4}\begin{verbatim}//printf("next token al final devuelve: %d\n", current_token);\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//printf("y token buffer tiene %s\n", token_buffer);\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$current_token$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$result$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$match$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{DarkOrchid3}\verb$*$\color{Tomato2}\verb$result$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$process_id$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* -----------------------------------------------scanner------------------------------------------------------*/\end{verbatim}\leavevmode\newline\newline\color{Azure4}\begin{verbatim}/* check_reserved
 * Toma identifiers que reconoce el scanner y retorna la clase de token (ID o alguna de las palabras reservadas).
 *  Los caracteres en el token_buffer también sirven para la función check_reserved().
 */\end{verbatim}\leavevmode\newline\color{Tomato2}\verb$token$ \color{Tomato2}\verb$check_reserved$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\newline\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//token_buffer[ncol] = '\0';\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}////printf( "Token_Buffer = %s\n", &token_buffer[0] );\end{verbatim}\leavevmode\newline\newline\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$=$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$\color{Tan2}\verb$"begin"$\color{SeaGreen3}\verb$)$\color{DarkOrchid3}\verb$==$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$BEGIN$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$\color{Tan2}\verb$"end"$\color{SeaGreen3}\verb$)$\color{DarkOrchid3}\verb$==$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$END$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$
\end{frame}
\begin{frame}[fragile,allowframebreaks]{Análisis sintáctico por colores}~\newline\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$\color{Tan2}\verb$"read"$\color{SeaGreen3}\verb$)$\color{DarkOrchid3}\verb$==$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$READ$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$\color{Tan2}\verb$"write"$\color{SeaGreen3}\verb$)$\color{DarkOrchid3}\verb$==$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$WRITE$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$\color{Tan2}\verb$"SCANEOF"$\color{SeaGreen3}\verb$)$\color{DarkOrchid3}\verb$==$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$SCANEOF$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$else$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$=$\color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$return$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Tomato2}\verb$token$ \color{Tomato2}\verb$scanner$ \color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\newline\color{SeaGreen3}\verb${$\newline\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$=$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$clear_buffer$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\color{Azure4}\begin{verbatim}//limpia el array\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$feof$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$SCANEOF$\color{SeaGreen3}\verb$;$\newline\newline\newline\tab\color{Turquoise3}\verb$while$ \color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{DarkOrchid3}\verb$!=$ \color{Tomato2}\verb$EOF$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Azure4}\begin{verbatim}//printf("caracter actual es:%c\n",in_char);\end{verbatim}\leavevmode\newline\newline\tab\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$isspace$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\newline\tab\tab\tab\color{Turquoise3}\verb$continue$\color{SeaGreen3}\verb$;$ \color{Azure4}\begin{verbatim}/* do nothing */\end{verbatim}\leavevmode\newline\tab\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$isalpha$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\color{Azure4}\begin{verbatim}//revisa si el caracter es alfabetico\end{verbatim}\leavevmode\newline\newline\tab\tab\tab\color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\color{Azure4}\begin{verbatim}//agrega caracter al buffer\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\newline\tab\tab\tab\color{Turquoise3}\verb$for$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$isalnum$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$ \color{DarkOrchid3}\verb$||$ \color{Tomato2}\verb$c$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'_'$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$ \color{Azure4}\begin{verbatim}//recorre la hilera agregando caracteres al buffer_char, termina cuando no es un caracter ni underscore\end{verbatim}\leavevmode\newline\tab\tab\tab\tab\color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\tab\color{Tomato2}\verb$ungetc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$check_reserved$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Azure4}\begin{verbatim}//Revisa si el string encontrado es una palabra reservada\end{verbatim}\leavevmode\newline\newline\tab\tab\color{SeaGreen3}\verb$}$  \color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$isdigit$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Turquoise3}\verb$for$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$isdigit$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\tab\color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\tab\color{Tomato2}\verb$ungetc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\tab\tab\color{Azure4}\begin{verbatim}//token_buffer[ncol] = '\0';\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Azure4}\begin{verbatim}////printf( "Token_Buffer = %s\n", &token_buffer[0]);\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$INTLITERAL$\color{SeaGreen3}\verb$;$\newline\newline\tab\tab\color{SeaGreen3}\verb$}$ \color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'('$\color{SeaGreen3}\verb$)$\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$LPAREN$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$')'$\color{SeaGreen3}\verb$)$\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$RPAREN$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$';'$\color{SeaGreen3}\verb$)$\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$SEMICOLON$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$','$\color{SeaGreen3}\verb$)$\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$COMMA$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'+'$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{Azure4}\begin{verbatim}//printf("caracter actual in_char es:%c\n",in_char);\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Azure4}\begin{verbatim}//printf("caracter actual c es:%c\n",c);\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$PLUSOP$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$':'$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{Azure4}\begin{verbatim}/* looking for ":=" */\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'='$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$ASSIGNOP$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\tab\color{Turquoise3}\verb$else$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\tab\color{Tomato2}\verb$ungetc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{Tomato2}\verb$lexical_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\color{Azure4}\begin{verbatim}//\end{verbatim}\leavevmode\newline\tab\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\color{SeaGreen3}\verb$}$ \color{Turquoise3}\verb$else$ \color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'-'$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{Azure4}\begin{verbatim}//printf("entro al comentario/menos \n");\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Azure4}\begin{verbatim}/* is it --, comment start */\end{verbatim}\leavevmode\newline\tab\tab\tab\color{Tomato2}\verb$c$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'-'$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\tab\color{Azure4}\begin{verbatim}//printf("entro al comentario \n");\end{verbatim}\leavevmode\newline\tab\tab\tab\tab\color{Turquoise3}\verb$do$\newline\tab\tab\tab\tab\color{SeaGreen3}\verb${$\newline\tab\tab\tab\tab\tab\color{Tomato2}\verb$in_char$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$getc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{SeaGreen3}\verb$}$ \color{Turquoise3}\verb$while$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$ \color{DarkOrchid3}\verb$!=$ \color{OrangeRed3}\verb$'$\color{OrangeRed3}\verb$\$\color{Tomato2}\verb$n$\color{OrangeRed3}\verb$'$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{SeaGreen3}\verb$}$ \color{Turquoise3}\verb$else$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\tab\color{Azure4}\begin{verbatim}//printf("caracter actual in_char es:%c\n",in_char);\end{verbatim}\leavevmode\newline\tab\tab\tab\tab\color{Azure4}\begin{verbatim}//printf("caracter actual c es:%c\n",c);\end{verbatim}\leavevmode\newline\tab\tab\tab\tab\color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$in_char$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{Tomato2}\verb$ungetc$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$\color{Tomato2}\verb$archive$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$MINUSOP$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\color{SeaGreen3}\verb$}$  \color{Turquoise3}\verb$else$\newline\tab\tab\tab\color{Tomato2}\verb$lexical_error$\color{SeaGreen3}\verb$($\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\newline\tab\color{Turquoise3}\verb$return$ \color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\newline\newline\newline\color{Azure4}\begin{verbatim}/* Adds argument to token_buffer*/\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$buffer_char$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$int$ \color{Tomato2}\verb$posicion$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$posicion$\color{SeaGreen3}\verb$]$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//printf("\nSe imprime %c\n",c);\end{verbatim}\leavevmode\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}// Reset the token string to be empty\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$clear_buffer$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//printf("Se limpio el buffer\n");\end{verbatim}\leavevmode\newline\tab\color{Tomato2}\verb$memset$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$,$\color{Tomato2}\verb$strlen$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$i$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$for$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$=$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$i$ \color{DarkOrchid3}\verb$<$ \color{Tomato2}\verb$strlen$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$ \color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{SeaGreen3}\verb$=$\color{Tan2}\verb$'\0'$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/*-----------------------------Semantic routines-------------------------------*/\end{verbatim}\leavevmode\newline\newline\color{Azure4}\begin{verbatim}/*Convert literal to a numeric representation and build semantic record.*/\end{verbatim}\leavevmode\newline\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$process_literal$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$reg$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$kind$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$INTLITERAL$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$name$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$sscanf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%d"$\color{SeaGreen3}\verb$,$ \color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$reg$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$val$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/*Declare ID and build a corresponding semantic record.*/\end{verbatim}\leavevmode\newline\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$process_id$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$check_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$reg$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$kind$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$name$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Produce operator descriptor. (Diff on book)*/\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$process_op$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//printf("El operador es %s \n",token_buffer);\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$token_buffer$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Produce read instruction*/\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$read_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$in_var$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//fprintf(outputArchive,"mov edi, format\nmov esi, x\nmov eax, 0\ncall scanf\n mov [%s],eax\n",in_var.name);\end{verbatim}\leavevmode\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Produce write instruction*/\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$write_expr$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$out_expr$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//fprintf(outputArchive,"mov esi, [%s]\nlea rdi, [rel format2]\nxor eax, eax\ncall printf\n",extractExpr(&out_expr));\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//generate("Write", extractExpr(&out_expr), "Integer", "");\end{verbatim}\leavevmode\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}//Produce temporals, gen_infix aux routine\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$\color{Tomato2}\verb$get_temp$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\newline\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}/* max temporary allocated so far */\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$static$ \color{Turquoise3}\verb$int$ \color{Tomato2}\verb$max_temp$ \color{SeaGreen3}\verb$=$ \color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$static$ \color{Turquoise3}\verb$char$ \color{Tomato2}\verb$tempname$ \color{SeaGreen3}\verb$[$\color{Tomato2}\verb$MAXIDLEN$\color{SeaGreen3}\verb$]$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$max_temp$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$sprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tempname$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"Temp%d"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$max_temp$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$check_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$tempname$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$tempname$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\newline\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$gen_infix$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$e1$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$op$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$e2$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$char$ \color{Tomato2}\verb$cadenaTemporal$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$MAXIDLEN$\color{SeaGreen3}\verb$]$ \color{SeaGreen3}\verb$=$ \color{Tan2}\verb$"Temp"$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$char$ \color{Tomato2}\verb$numero$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$MAXIDLEN$\color{SeaGreen3}\verb$]$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$char$ \color{Tomato2}\verb$cadenaOperador$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$MAXIDLEN$\color{SeaGreen3}\verb$]$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//printf("Genera codigo aaaaa%c\n",op[0]);\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//printf("Genera codigo aaaaa%s\n",op);\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//printf("el buffer tiene: %s\n",token_buffer);\end{verbatim}\leavevmode\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$op$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$]$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'-'$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$    \color{Azure4}\begin{verbatim}//printf("Genera codigo para sub \n");\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$cadenaOperador$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"Sub"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$op$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$]$ \color{DarkOrchid3}\verb$==$ \color{Tan2}\verb$'+'$\color{SeaGreen3}\verb$)$\newline\tab\color{SeaGreen3}\verb${$    \color{Azure4}\begin{verbatim}//printf("Genera codigo para add \n");\end{verbatim}\leavevmode\newline\tab\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$cadenaOperador$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"Add"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Tomato2}\verb$sprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$numero$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%d"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$numeroVariableTemporal$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$numeroVariableTemporal$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$strcat$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$cadenaTemporal$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$numero$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$e1$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$kind$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$check_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$extractExpr$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$e1$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$e2$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$kind$ \color{DarkOrchid3}\verb$==$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$check_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$extractExpr$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$e2$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$check_id$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$cadenaTemporal$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//cadenaOperador contiene sub o add, y NO puede estar vacia\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//extractExpr(&e1) puede devolver por ejemplo BB o 314\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//extractExpr(&e2) puede devolver por ejemplo BB o 314\end{verbatim}\leavevmode\newline\tab\color{Azure4}\begin{verbatim}//cadenaTemporal es donde se va a almacenar el resultado\end{verbatim}\leavevmode\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"mov eax,%s\n"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$extractExpr$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$e1$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%s eax,%s\n"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$cadenaOperador$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$extractExpr$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$e2$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"mov [%s],eax\n"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$cadenaTemporal$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//generate(cadenaOperador, extractExpr(&e1), extractExpr(&e2), cadenaTemporal);\end{verbatim}\leavevmode\newline\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$reg$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$name$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$cadenaTemporal$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Write instruction to archive */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$generate$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$co$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$a$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$b$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%s %s"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$co$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$a$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$b$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$]$\color{DarkOrchid3}\verb$!=$\color{Tan2}\verb$'\0'$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%c%s"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$','$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$b$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$]$\color{DarkOrchid3}\verb$!=$\color{Tan2}\verb$'\0'$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%c%s"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$','$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"\n"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Write instruction to archive */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$generatevariables$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$co$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$a$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$b$\color{SeaGreen3}\verb$,$ \color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$sectionData$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%s %s"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$co$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$a$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$b$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$]$\color{DarkOrchid3}\verb$!=$\color{Tan2}\verb$'\0'$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$sectionData$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%c%s"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$' '$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$b$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$c$\color{SeaGreen3}\verb$[$\color{HotPink1}\verb$0$\color{SeaGreen3}\verb$]$\color{DarkOrchid3}\verb$!=$\color{Tan2}\verb$'\0'$\color{SeaGreen3}\verb$)$\newline\tab\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$sectionData$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"%c%s"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$' '$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$c$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$sectionData$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"\n"$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\newline\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$extractExpr$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$reg$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Turquoise3}\verb$return$ \color{Tomato2}\verb$reg$\color{DarkOrchid3}\verb$-$\color{DarkOrchid3}\verb$>$\color{Tomato2}\verb$name$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/*Checks if a given symbol is in the TS*/\end{verbatim}\leavevmode
\end{frame}
\begin{frame}[fragile,allowframebreaks]{Análisis sintáctico por colores}~\newline\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$lookup$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$id$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$RegTS$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$token$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$t$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$i$ \color{SeaGreen3}\verb$=$ \color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$while$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tan2}\verb$"$"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$identifier$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Azure4}\begin{verbatim}// CHEQUEAR ESTE LOOP QUE NO ENTIENDO\end{verbatim}\leavevmode\newline\tab\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$!$\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$id$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$identifier$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\tab\color{DarkOrchid3}\verb$*$\color{Tomato2}\verb$t$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$;$\newline\tab\tab\tab\color{Turquoise3}\verb$return$ \color{HotPink1}\verb$1$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{SeaGreen3}\verb$}$\newline\tab\tab\color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\tab\color{Turquoise3}\verb$return$ \color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/*Enters a symbol at the last spot of the symbol table (before $)*/\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$enter$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$id$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$RegTS$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Turquoise3}\verb$int$ \color{Tomato2}\verb$i$ \color{SeaGreen3}\verb$=$ \color{HotPink1}\verb$0$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$while$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$strcmp$\color{SeaGreen3}\verb$($\color{Tan2}\verb$"$"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$identifier$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{Tomato2}\verb$i$\color{DarkOrchid3}\verb$++$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{Tomato2}\verb$i$ \color{DarkOrchid3}\verb$<=$ \color{HotPink1}\verb$999$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$identifier$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$id$ \color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$tok$ \color{SeaGreen3}\verb$=$ \color{Tomato2}\verb$ID$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$strcpy$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$[$\color{DarkOrchid3}\verb$++$\color{Tomato2}\verb$i$\color{SeaGreen3}\verb$]$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$identifier$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"$"$ \color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/*Checks if a token is in the symbol table*/\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$check_id$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$char$ \color{DarkOrchid3}\verb$*$ \color{Tomato2}\verb$s$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$token$ \color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$;$\newline\tab\color{Turquoise3}\verb$if$ \color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$!$\color{Tomato2}\verb$lookup$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$s$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$,$ \color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$tok$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$ \color{SeaGreen3}\verb${$\newline\tab\tab\color{Tomato2}\verb$enter$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$s$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$TS$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Tomato2}\verb$generatevariables$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$s$\color{SeaGreen3}\verb$,$\color{Tan2}\verb$" DD"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"0"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$""$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\tab\color{Azure4}\begin{verbatim}//generate("Declare", s, "Integer", "");\end{verbatim}\leavevmode\newline\tab\color{SeaGreen3}\verb$}$\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Generate code for assignment. */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$assign$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$target$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$expr_rec$ \color{Tomato2}\verb$source$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"mov eax,%s\n"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$extractExpr$\color{SeaGreen3}\verb$($\color{DarkOrchid3}\verb$&$\color{Tomato2}\verb$source$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Tomato2}\verb$fprintf$\color{SeaGreen3}\verb$($\color{Tomato2}\verb$outputArchive$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$"mov [%s],eax\n"$\color{SeaGreen3}\verb$,$ \color{Tomato2}\verb$target$\color{OrangeRed3}\verb$.$\color{Tomato2}\verb$name$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\tab\color{Azure4}\begin{verbatim}//generate("Store", extractExpr(&source), target.name, "");\end{verbatim}\leavevmode\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* semantic initialization, none needed. */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$start$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\newline\color{SeaGreen3}\verb$}$\newline\newline\color{Azure4}\begin{verbatim}/* Generate code to finish program */\end{verbatim}\leavevmode\newline\color{Turquoise3}\verb$void$ \color{Tomato2}\verb$finish$\color{SeaGreen3}\verb$($\color{Turquoise3}\verb$void$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb${$\newline\tab\color{Azure4}\begin{verbatim}//tenemos que ingresar la i80 o exit\end{verbatim}\leavevmode\newline\tab\color{Tomato2}\verb$generate$\color{SeaGreen3}\verb$($\color{Tan2}\verb$"\nint 80h \n mov eax,1 \nmov ebx,0\nint 80h\n"$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$""$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$""$\color{SeaGreen3}\verb$,$ \color{Tan2}\verb$""$\color{SeaGreen3}\verb$)$\color{SeaGreen3}\verb$;$\newline\color{SeaGreen3}\verb$}$\newline
\end{frame}
